**Домашнее задание к занятию 1. «Типы и структура СУБД»**


**Задача 1**

*Архитектор ПО решил проконсультироваться у вас, какой тип БД лучше выбрать для хранения определённых данных.*

*Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:*

*электронные чеки в json-виде,*

Подойдет NoSQL, например MongoDB, т.к. это документо-риентированная БД и в качестве исходников будут json файлы.


*склады и автомобильные дороги для логистической компании,*

Подойдет сетевая база данных с множеством различных узлов каждый из которых необходим для решения своей задачи и хранения необходимых данных.


*генеалогические деревья,*

Подойдет любая реляционная БД. Т.к. в этой схеме множество связей.


*кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации,*


Подойдет NoSQД  БД, т.к. она обеспечит быструю работу за счет кэширования. Например, Memcached.


*отношения клиент-покупка для интернет-магазина.*

Для решения таких задач требуется реляционная БД. Потому что в этой БД есть ключи по которым проще строить сам каталог.


*Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.*

***

**Задача 2**

*Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если (каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):*

*данные записываются на все узлы с задержкой до часа (асинхронная запись);*

По CAP = AP асинхронная запись не может дать гарантию консистентности данных.

По PACELC теореме вероятно PA/EL, т.к. задержки в один час ,предположительно,будет достаточно чтобы устранить небольшие сетевые проблемы.

*при сетевых сбоях система может разделиться на 2 раздельных кластера;*

По CAP = AP при сетевых сбоях, система может разделиться на 2 раздельных кластера AP обеспечивается доступность и устойчивость .
По PACELC = PA/EL  система может разделиться на 2 раздельных кластера 

*система может не прислать корректный ответ или сбросить соединение.*

По CAP=CP, т.к. условие доступности требует, чтобы запрос всегда завершался корректным ответом.
По PACELC= PC/EC, система может не прислать корректный ответ или сбросить соединение

*Согласно PACELC-теореме как бы вы классифицировали эти реализации?*

***

**Задача 3**

*Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?*

Нет. Это противоречит базовым принципам. BASE ориентирован на производительность системы (доступность), ACID на сохранность данных(стойкость к разделению и сохранность данных). Согласно CAP-теореме системы с такими качествами будут находиться на разных ребрах треугольника.

***
**Задача 4**
*Вам дали задачу написать системное решение, основой которого бы послужили:*

*фиксация некоторых значений с временем жизни,*

*реакция на истечение таймаута.*

*Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. Что это за система? Какие минусы выбора этой системы?*


Это система Redis. 
Из минусов:
1. Т.к. это NoSQL система, то возникает проблема с оперативным поиском данных.
2. Отсутствует разграничение прав доступа по пользователям.
3. Экземпляр БД не маштабируется.
4. Консистентность данных - в случае отказа сервера, данные из оперативной памяти будут утеряны и сохранятся только данные .
с последней синхронизации с диском.



