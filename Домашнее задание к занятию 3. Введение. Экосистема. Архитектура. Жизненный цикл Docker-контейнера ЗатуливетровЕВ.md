**Домашнее задание к занятию 3. «Введение. Экосистема. Архитектура. Жизненный цикл Docker-контейнера»**

***

**Задача 1**
Сценарий выполнения задачи:

*создайте свой репозиторий на https://hub.docker.com;*
*выберите любой образ, который содержит веб-сервер Nginx;*
*создайте свой fork образа;*
*реализуйте функциональность: запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:*

***<html>
<head>
Hey, Netology
</head>
<body>
<h1>I’m DevOps Engineer!</h1>
</body>
</html>***

**Опубликуйте созданный fork в своём репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.**

[Мой репоизиторий](https://hub.docker.com/repository/docker/zatulik2606/netology-devops/general)

***

**Задача 2**

*Посмотрите на сценарий ниже и ответьте на вопрос: «Подходит ли в этом сценарии использование Docker-контейнеров или лучше подойдёт виртуальная машина, физическая машина? Может быть, возможны разные варианты?»*

**Детально опишите и обоснуйте свой выбор.**

--

Сценарий:

*высоконагруженное монолитное Java веб-приложение;*



**Возможны оба варианта, но для масштабируемости приложения, часть задач м.б. перенесена в контейнеры.** 




*Nodejs веб-приложение;*

**В данной ситуации я выбираю Docker, т.к. есть возможность быстро разворачивать приложение с необходимыми библиотеками.


*мобильное приложение c версиями для Android и iOS;*

**Мобильная разработка предполагает работу с разными командами и разными "кусочками" кода. Для быстрой и "безболезненной" интеграции важно! использовать контейнерную структуру**



*шина данных на базе Apache Kafka;*

**Возможен Docker - по причине быстрого развертывания и восстановления из backup**


*Elasticsearch-кластер для реализации логирования продуктивного веб-приложения — три ноды elasticsearch, два logstash и две ноды kibana;*

**Подойдет Docker, т.к. быстро можно развернуть и потребуется меньше ресурсов.**


*мониторинг-стек на базе Prometheus и Grafana;*

**Возможно использование в Docker. Но не следует разворачивать его в node_exporter. А в целом -да.**


*MongoDB как основное хранилище данных для Java-приложения;*

**MongoDB рекомендуют использовать с Docker. У Docker есть библиотека для такой операции**

*Gitlab-сервер для реализации CI/CD-процессов и приватный (закрытый) Docker Registry.*

**Я бы использовал обычную виртуалку, т.к. не так часто поступают изменения в деплой. Возможен ли вариант использования Docker - да возможен ,но он не сильно подходит к обозначенной задаче.**

***

**Задача 3**

*Запустите первый контейнер из образа centos c любым тегом в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера.*

**root@vagrant:~# docker run -it --rm -d --name centos -v $(pwd)/data:/data centos:latest**

**c32a918c0ab96f61d4fff6d3e3ee6588496bc0859e60c5d8caef4d0f31d06f86**


*Запустите второй контейнер из образа debian в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера.*

**root@vagrant:~# docker run -it --rm -d --name debian -v $(pwd)/data:/data debian:stable**


**ddeed3bd20ee9154babef46f5ef11f2bb721a56005b793ed69c370469f6efd16**


*Подключитесь к первому контейнеру с помощью docker exec и создайте текстовый файл любого содержания в /data.*

**root@vagrant:~# docker exec -it centos bash**

**[root@c32a918c0ab9 /]# echo "Hello Netology from CentOS!" > /data/centos.txt**

**[root@c32a918c0ab9 /]# exit**


*Добавьте ещё один файл в папку /data на хостовой машине.*

**root@vagrant:~# echo "Hellow Netology from Host!" > data/host.txt**

*Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /data контейнера*

**root@vagrant:~# docker exec -it debian bash**
**root@ddeed3bd20ee:/# ls -l /data/**
**total 8**

**-rw-r--r-- 1 root root 28 May 10 13:55 centos.txt**

**-rw-r--r-- 1 root root 27 May 10 13:56 host.txt**
